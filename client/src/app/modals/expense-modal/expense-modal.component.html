<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white rounded-lg shadow-lg w-96">
    <div class="px-4 py-2 border-b">
      <h2 class="text-lg font-bold">{{ title }}</h2>
    </div>
    <div class="p-4 space-y-4 z-50">

      <!-- Month -->
      <div>
        <label for="month" class="block text-sm font-medium text-gray-700">Month</label>
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Month</mat-label>
          <input
            matInput
            [(ngModel)]="searchTerm"
          [matAutocomplete]="auto"
          (ngModelChange)="filterMonths()"
          id="month"
          placeholder="Start typing"
          class="w-full px-4 py-2 rounded-md border focus:ring-indigo-500 focus:border-indigo-500"
          />
          <mat-autocomplete #auto="matAutocomplete" class="mat-autocomplete-panel">
            <mat-option *ngFor="let option of filteredMonths" [value]="option" class="mat-option">
              {{ option }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>

      <div>
        <label for="year" class="block text-sm font-medium text-gray-700">Year</label>
        <select
          id="year"
          [(ngModel)]="expense.year"
        class="w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"
        >
        <option *ngFor="let year of years" [value]="year">
          {{ year }}
        </option>
        </select>
      </div>

      <ng-container *ngIf="!isEditMode">
      <div>
        <label for="category" class="block text-sm font-medium text-gray-700">Category</label>
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Category</mat-label>
          <input
            matInput
            [(ngModel)]="categorySearchTerm"
            [matAutocomplete]="categoryAuto"
            (ngModelChange)="filterCategories()"
            id="category"
            placeholder="Type category"
            (keydown.enter)="addNewCategory()"
          />
          <mat-autocomplete #categoryAuto="matAutocomplete">
            <mat-option *ngFor="let category of filteredCategories" [value]="category.name" (click)="onCategorySelect(category)">
              {{ category.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>

        <div>
          <label for="type" class="block text-sm font-medium text-gray-700">Type</label>
          <select
            id="type"
            [(ngModel)]="expense.type"
            class="w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"
          >
            <option value="planned">Planned</option>
            <option value="actual">Actual</option>
          </select>
        </div>
      </ng-container>

      <div>
        <label for="amount" class="block text-sm font-medium text-gray-700">Amount</label>
        <input
          type="number"
          id="amount"
          [(ngModel)]="expense.amount"
          class="w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"
          step="0.01"
          placeholder="0.00"
          [value]="expense.amount"
        />
      </div>




    <div class="flex justify-end px-4 py-2 border-t">
      <button
        class="px-4 py-2 mr-2 text-white bg-red-500 rounded hover:bg-red-600"
        (click)="onCancel()"
      >
        Cancel
      </button>
      <button
        class="px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600"
        (click)="onSave()"
      >
        Save
      </button>
    </div>
  </div>
</div>
</div>
